<template name="profile">
  {{#contentFor "headerButtonLeft"}}
    <button class="button button-clear pull-left" data-ion-menu-toggle="left">
      {{#if isAndroid}}
        {{> ionIcon icon='android-more-vertical'}}
      {{else}}
        {{> ionIcon icon='navicon'}}
      {{/if}}
    </button>
  {{/contentFor}}

  {{#contentFor "headerTitle"}}
    <h1 class="title">Profile</h1>
  {{/contentFor}}

  {{#if currentUser}}
    {{#contentFor "headerButtonRight"}}
      <button class="button button-clear" data-ion-modal="profileEdit">{{> ionIcon icon="ios-gear-outline"}}</button>
    {{/contentFor}}
  {{/if}}

  {{#ionView}}
    {{#ionContent class="profile-wrapper"}}
      <div class="padding">
        {{#if currentUser}}
          {{#with user}}
            {{#if profile}}
              {{> _profileDetails profile=profile areas=areasTags interests=interestsTags user=this}}
            {{else}}
              {{#ionList}}
                <div class="item item-divider">
                  Email: {{ getUserEmail user}}
                </div>
              {{/ionList}}
            {{/if}}
          {{/with}}
        {{else}}
          {{> atForm}}
        {{/if}}
      </div>
    {{/ionContent}}
  {{/ionView}}
</template>
